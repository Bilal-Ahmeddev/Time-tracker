{"version":3,"sources":["background.js"],"names":["totalTime","lastActiveTime","Date","now","chrome","storage","local","get","data","updateTime","currentTime","set","runtime","onStartup","addListener","onSuspend","windows","onFocusChanged","windowId","WINDOW_ID_NONE","setInterval"],"mappings":";;AAAA,IAAIA,SAAS,GAAG,CAAhB;AACA,IAAIC,cAAc,GAAGC,IAAI,CAACC,GAAL,EAArB;AAGAC,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,CAAC,WAAD,CAAzB,EAAwC,UAACC,IAAD,EAAU;AAC9CR,EAAAA,SAAS,GAAGQ,IAAI,CAACR,SAAL,IAAkB,CAA9B;AACH,CAFD;;AAKA,SAASS,UAAT,GAAsB;AAClB,MAAIC,WAAW,GAAGR,IAAI,CAACC,GAAL,EAAlB;AACAH,EAAAA,SAAS,IAAI,CAACU,WAAW,GAAGT,cAAf,IAAiC,IAA9C;AACAA,EAAAA,cAAc,GAAGS,WAAjB;AACAN,EAAAA,MAAM,CAACC,OAAP,CAAeC,KAAf,CAAqBK,GAArB,CAAyB;AAAEX,IAAAA,SAAS,EAATA;AAAF,GAAzB;AACH;;AAGDI,MAAM,CAACQ,OAAP,CAAeC,SAAf,CAAyBC,WAAzB,CAAqC,YAAM;AACvCb,EAAAA,cAAc,GAAGC,IAAI,CAACC,GAAL,EAAjB;AACH,CAFD;AAIAC,MAAM,CAACQ,OAAP,CAAeG,SAAf,CAAyBD,WAAzB,CAAqCL,UAArC;AAEAL,MAAM,CAACY,OAAP,CAAeC,cAAf,CAA8BH,WAA9B,CAA0C,UAACI,QAAD,EAAc;AACpD,MAAIA,QAAQ,KAAKd,MAAM,CAACY,OAAP,CAAeG,cAAhC,EAAgD;AAC5ClB,IAAAA,cAAc,GAAGC,IAAI,CAACC,GAAL,EAAjB;AACH,GAFD,MAEO;AACHM,IAAAA,UAAU;AACb;AACJ,CAND;AASAW,WAAW,CAACX,UAAD,EAAa,IAAb,CAAX","sourcesContent":["let totalTime = 0;\r\nlet lastActiveTime = Date.now();\r\n\r\n\r\nchrome.storage.local.get([\"totalTime\"], (data) => {\r\n    totalTime = data.totalTime || 0;\r\n});\r\n\r\n\r\nfunction updateTime() {\r\n    let currentTime = Date.now();\r\n    totalTime += (currentTime - lastActiveTime) / 1000; \r\n    lastActiveTime = currentTime;\r\n    chrome.storage.local.set({ totalTime });\r\n}\r\n\r\n\r\nchrome.runtime.onStartup.addListener(() => {\r\n    lastActiveTime = Date.now();\r\n});\r\n\r\nchrome.runtime.onSuspend.addListener(updateTime);\r\n\r\nchrome.windows.onFocusChanged.addListener((windowId) => {\r\n    if (windowId !== chrome.windows.WINDOW_ID_NONE) {\r\n        lastActiveTime = Date.now();\r\n    } else {\r\n        updateTime();\r\n    }\r\n});\r\n\r\n\r\nsetInterval(updateTime, 1000);\r\n"],"file":"background.dev.js"}